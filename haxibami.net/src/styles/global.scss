@use "variable" as var;

* {
  margin: 0;
  padding: 0;
  line-height: 1.75em;
  box-sizing: border-box;
  list-style-position: inside;
}

body,
html {
  font-family: Rubik, Helvetica Neue, Helvetica, Apple Color Emoji,
    Segoe UI Emoji, NotoColorEmoji, Noto Color Emoji, Segoe UI Symbol,
    Android Emoji, EmojiSymbols, -apple-system, BlinkMacSystemFont, Segoe UI,
    Roboto, Noto Sans, sans-serif;
  font-display: swap;
  font-size: 1rem;
}

:root {
  --foreground: #{var.$fg};
  --background: #{var.$bg};
  --title: #{var.$title};
  --bar: #{var.$bar};
  --subtitle: #{var.$subtitle};
  --hover: #{var.$hover};
  --line: #{var.$line};
  --shadow: #{var.$shadow};
  --link: #{var.$blog_link};
  --code: #{var.$code};
  --nextbg: #{var.$nextbg};
  --prevfg: #{var.$prevfg};
  --docsbg: #{var.$docsbg};
  --codebg: #{var.$codebg};
  --codefg: #{var.$codefg};
  --codehl: #{var.$codehl};
  --codetitlebg: #{var.$codetitlebg};
  --codetitlefg: #{var.$codetitlefg};
}

[data-theme="dark"] {
  --foreground: #{var.$fg-night};
  --background: #{var.$bg-night};
  --title: #{var.$title-night};
  --bar: #{var.$bar-night};
  --subtitle: #{var.$subtitle-night};
  --hover: #{var.$hover-night};
  --line: #{var.$line-night};
  --shadow: #{var.$shadow-night};
  --link: #{var.$blog_link-night};
  --code: #{var.$code-night};
  --nextbg: #{var.$nextbg-night};
  --prevfg: #{var.$prevfg-night};
  --docsbg: #{var.$docsbg-night};
  --codebg: #{var.$codebg-night};
  --codefg: #{var.$codefg-night};
  --codehl: #{var.$codehl-night};
  --codetitlebg: #{var.$codetitlebg-night};
  --codetitlefg: #{var.$codetitlefg-night};
}

a {
  color: inherit;
  text-decoration: none;
}

[data-rehype-pretty-code-fragment] {
  margin-top: 1.5rem;
  position: relative;
  font-size: 1rem;
}

[data-rehype-pretty-code-title] {
  position: absolute;
  top: 0;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  padding: 0.5rem 1rem;
  width: 100%;
  color: var(--codetitlefg);
  background: var(--codetitlebg);
  border-radius: var.$code_corner var.$code_corner 0 0;
  z-index: 1;
}

code > .line::before {
  counter-increment: line;
  content: counter(line);

  /* Other styling */
  display: inline-block;
  width: 1rem;
  margin-right: 2rem;
  text-align: right;
  color: gray;
}

code > .line {
  border-left: 3px solid transparent;
  padding: 0 1.25rem;
}

code > .line.highlighted {
  border-left-color: var(--link);
  background: var(--codehl);
}
