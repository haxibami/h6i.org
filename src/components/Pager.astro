---
import type { Page } from "astro";
import type { CollectionEntry } from "astro:content";

import {
  ChevronCircleLeftIcon,
  ChevronCircleRightIcon,
} from "@/components/Svg";

export interface Props {
  page: Page<CollectionEntry<"blog">>;
}

const { page } = Astro.props;
---

<nav>
  <span class="button-container">
    {
      page.url.prev && (
        <a href={page.url.prev} class="pager-link">
          <span class="pager-button prev-color">
            <ChevronCircleLeftIcon class="nav-icon" />
            Prev
          </span>
        </a>
      )
    }
  </span>
  <span class="current-page">
    <div>
      {page.currentPage} / {Math.ceil(page.total / page.size)}
    </div>
  </span>
  <span class="button-container">
    {
      page.url.next && (
        <a href={page.url.next} class="pager-link">
          <div class="pager-button next-color">
            Next
            <ChevronCircleRightIcon class="nav-icon" />
          </div>
        </a>
      )
    }
  </span>
</nav>

<style>
  nav {
    display: flex;
    flex-direction: row;
    gap: 2rem;
    justify-content: space-between;
    width: 100%;
    font-size: 1.25rem;
    line-height: 1.75rem;
  }

  .button-container {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 6rem;
    height: 2rem;
  }

  .pager-link {
    width: 100%;
    height: 100%;
  }

  .pager-button {
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: space-evenly;
    align-items: center;
    transition-property: background-color, border-color, color, fill, stroke,
      opacity, box-shadow, transform;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 300ms;
  }

  .prev-color {
    color: var(--prevfg);

    &:hover {
      background-color: var(--hover);
    }
  }

  .next-color {
    color: var(--bg);
    border-color: var(--nextbg);
    background-color: var(--nextbg);
    &:hover {
      border: 1px solid;
      color: var(--nextbg);
      background-color: var(--bg);
    }
  }

  .nav-icon {
    width: 1rem;
    height: 1rem;
    fill: currentColor;
  }

  .current-page {
    display: flex;
    justify-content: center;
    align-items: center;
  }
</style>
