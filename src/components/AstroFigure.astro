---
import AstroCode from "./AstroCode.astro";
import AstroImage from "./AstroImage.astro";

export type Props = {
  "data-image-parent"?: "";
  "data-rehype-pretty-code-figure"?: "";
};

const props = Astro.props;

const isImgParent = Object.hasOwn(props, "data-image-parent");
const isCodeFigure = Object.hasOwn(props, "data-rehype-pretty-code-figure");
---

{
  isImgParent ? (
    <AstroImage {...props}>
      <slot />
    </AstroImage>
  ) : isCodeFigure ? (
    <AstroCode {...props}>
      <slot />
    </AstroCode>
  ) : (
    <figure {...props}>
      <slot />
    </figure>
  )
}
